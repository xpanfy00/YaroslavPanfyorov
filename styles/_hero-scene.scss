/* _hero-scene.scss */
.hero__scene-wrapper {
   position: relative;
   perspective: 1200px;
   contain: layout;        /* либо вообще убрать contain */
   overflow: visible;      /* чтобы теги/бейджи могли выходить за края */
   --scene-size: clamp(260px, 44vw, 560px);
}

.hero-scene {
   width: var(--scene-size);
   height: var(--scene-size);
   margin-inline: auto;
   transform-style: preserve-3d;
   animation: scene-float 8s ease-in-out infinite;
   overflow: visible;  /* подстраховка */
}


@keyframes scene-float {
  0%,100% { transform: rotateX(12deg) rotateY(-18deg) translateY(0); }
  50%     { transform: rotateX(6deg) rotateY(-10deg) translateY(-6px); }
}

/* Laptop (упрощённо) */
.laptop-bottom-panel,
.laptop-top-panel {
  position: absolute;
  inset: 0;
  transform-style: preserve-3d;
}

.laptop-bottom-panel__base,
.laptop-top-panel__base,
.laptop-top-panel__screen {
  position: absolute;
  left: 50%;
  transform: translateZ(30px) translateX(-50%);
  width: 88%;
  height: 56%;
  border-radius: 12px;
  background: linear-gradient(#111, #1b1b1b);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}

.laptop-top-panel__screen {
  top: 8%;
  height: 44%;
  background:
    radial-gradient(120% 140% at 30% 20%, rgba(0,255,188,.12), transparent 60%),
    radial-gradient(120% 140% at 70% 70%, rgba(73, 109, 255,.12), transparent 60%),
    #0b0e12;
  border: 1px solid rgba(255,255,255,.06);
}

/* Клавиатура-сетка */
.laptop-bottom-panel__keyboard {
  position: absolute;
  left: 50%;
  bottom: 16%;
  transform: translateX(-50%) translateZ(26px);
  width: 78%;
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 6px;
}
.laptop-bottom-panel__key {
  display: block;
  width: 100%; aspect-ratio: 5 / 4;
  border: 0;
  border-radius: 6px;
  background: linear-gradient(#2a2e35, #1f2329);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
  pointer-events: none;
}

/* UML */
.uml-diagram {
  position: absolute;
  inset: 0;
  transform: translateZ(60px);
}
.uml-diagram__ellipse,
.uml-diagram__rectangle,
.uml-diagram__rhombus {
  position: absolute;
  border: 2px solid rgba(255,255,255,.25);
  border-radius: 8px;
  color: rgba(255,255,255,.45);
  font: 600 12px/1.2 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  padding: 6px 8px;
}
.uml-diagram__ellipse { border-radius: 999px; width: 68px; height: 32px; }
.uml-diagram__ellipse--top { top: 10%; left: 18%; }
.uml-diagram__ellipse--bottom { bottom: 12%; right: 14%; }
.uml-diagram__rectangle--left  { top: 36%; left: 8%; width: 80px; height: 44px; }
.uml-diagram__rectangle--right { top: 40%; right: 8%; width: 96px; height: 52px; }
.uml-diagram__rhombus { top: 26%; left: 50%; transform: translateX(-50%); }

/* Плавающие бейджи */
.code-signs {
  position: absolute; inset: 0; transform: translateZ(85px);
}
.code-signs__sign {
  position: absolute;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255,255,255,.08);
  color: rgba(255,255,255,.9);
  font: 600 12px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  animation: badge-fly 7s ease-in-out infinite;
}
.code-signs__sign--left  { left: 6%; top: 22%; }
.code-signs__sign--right { right: 6%; bottom: 20%; }

@keyframes badge-fly {
  0%,100% { transform: translateY(0); }
  50%     { transform: translateY(-6px); }
}

/* Бегущая «код-панель» */
.code-panel {
  position: absolute;
  left: 50%; bottom: 10%;
  transform: translateX(-50%) translateZ(70px);
  display: grid; grid-auto-flow: column; gap: 8px;
}
.code-panel__word {
  width: 34px; height: 8px; border-radius: 2px;
  background: rgba(255,255,255,.14);
  animation: code-shimmer 1.6s linear infinite;
}
.code-panel__word--2 { width: 54px; }
.code-panel__word--yellow-color { background: rgba(255,219,77,.6); }
.code-panel__word--bright-color { background: rgba(108, 188, 255,.55); }

@keyframes code-shimmer {
  0% { opacity: .4; }
  50% { opacity: .9; }
  100% { opacity: .4; }
}

/* Байт-код */
.byte-code {
  position: absolute; top: 8%; right: 8%;
  display: grid; grid-auto-rows: 1fr; gap: 2px;
  transform: translateZ(90px);
}
.byte-code__char {
  font: 600 10px/1 ui-monospace, Menlo, Consolas, monospace;
  color: rgba(255,255,255,.35);
}

/* Слайдер */
.hero-slider {
  position: absolute; left: 50%; top: 6%;
  transform: translateX(-50%) translateZ(95px);
  display: grid; grid-template-columns: auto 1fr auto; gap: 8px; align-items: center;
  width: min(84%, 520px);
}
.hero-slider__button {
  inline-size: 28px; block-size: 28px;
  border-radius: 50%; border: 0;
  background: rgba(255,255,255,.08);
  cursor: pointer;
}
.hero-slider__list {
  display: flex; gap: 8px; overflow: hidden;
  mask-image: linear-gradient(90deg, transparent 0 8px, #000 28px calc(100% - 28px), transparent calc(100% - 8px) 100%);
}
.hero-slider__item {
  flex: 0 0 auto;
  padding: 6px 10px; border-radius: 8px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
  color: rgba(255,255,255,.9);
}

/* prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .hero-scene,
  .code-signs__sign,
  .code-panel__word { animation: none !important; }
}
